{"version":3,"sources":["webpack:///./java-script/trek.js","webpack:///./java-script/fetchCountries.js"],"names":["debounce","require","fragment","document","createDocumentFragment","containerDom","querySelector","capitalDom","populationDom","languagesDom","imgDom","titleDom","ulForRenderLi","stopDefaultBehaviorForm","getValueFromInput","textContent","addEventListener","value","even","preventDefault","innerHTML","classList","remove","setAttribute","keyWord","Number","searchQuery","keyRequest","toLowerCase","trim","fetch","then","el","json","data","status","error","text","length","alert","type","dataFromServer","reduce","acc","name","flag","capital","population","languages","demonym","push","RenderLiDom","createElement","add","appendChild","removeAttribute","catch","err","console"],"mappings":"mOAAO,IAAIA,EAAWC,EAAQ,QAKxBC,EAAWC,SAASC,yBACpBC,EAAeF,SAASG,cAAc,cACtCC,EAAaJ,SAASG,cAAc,YACpCE,EAAgBL,SAASG,cAAc,eACvCG,EAAeN,SAASG,cAAc,cACtCI,EAASP,SAASG,cAAc,OAChCK,EAAWR,SAASG,cAAc,UAClCM,EAAgBT,SAASG,cAAc,gBACvCO,EAA0BV,SAASG,cAAc,QACjDQ,EAAoBX,SAASG,cAAc,SACjDC,EAAWQ,YAAc,aACzBP,EAAcO,YAAc,eAC5BN,EAAaM,YAAc,eAC3BZ,SAASa,iBACP,oBACA,kBAAOF,EAAkBG,MAAQ,MAEnCJ,EAAwBG,iBAAiB,UAAU,SAAAE,GACjDA,EAAKC,oBAEahB,SAASG,cAAc,SAC/BU,iBACV,QACAhB,GAAS,WACPY,EAAcQ,UAAY,GAC1Bb,EAAWQ,YAAc,aACzBP,EAAcO,YAAc,eAC5BN,EAAaM,YAAc,eAC3BV,EAAagB,UAAUC,OAAO,QAC9BZ,EAAOa,aACL,MACA,kGAEF,IAAMC,EAAUV,EAAkBG,MAClC,GAAgB,KAAZO,GAAkBA,IAAYC,OAAlC,CAGA,ICzCmCC,EDyC7BC,EAAa,yCAAyCH,EACzDI,cACAC,QC3CgCH,ED4CpBC,EC3CVG,MAAMJ,GACVK,MAAK,SAAAC,GACJ,OAAOA,EAAGC,UAEXF,MAAK,SAAAG,GAIJ,OAHoB,MAAhBA,EAAKC,QACPC,gBAAM,CAAEC,KAAM,kCAETH,MDoCNH,MAAK,SAAAG,GACJ,GAAIA,EAAKI,QAAU,GACjBC,gBAAM,CACJF,KAAM,kBACNG,KAAM,aAHV,CAOA,IAAMC,EAAiBP,EAAKQ,QAC1B,SAACC,EAAD,GAAkE,IAA1DC,EAA0D,EAA1DA,KAAMC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,WAAYC,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QAClDN,EAAIO,KAAKN,EAAMC,EAAMC,EAASC,EAAYC,EAAWC,GACrD,IAAME,EAAchD,SAASiD,cAAc,MAI3C,OAHAD,EAAY9B,UAAUgC,IAAI,kBAC1BF,EAAYpC,YAAc6B,EAC1B1C,EAASoD,YAAYH,GACdR,IAET,IAE4B,IAA1BF,EAAeH,SACjB5B,EAAO6C,gBAAgB,OACvB7C,EAAOa,aAAa,MAAOkB,EAAe,IAC1ClC,EAAWQ,YAAc,aAAe0B,EAAe,GACvDjC,EAAcO,YAAc,gBAAkB0B,EAAe,GAC7DhC,EAAaM,YAAc,eAAiB0B,EAAe,GAAGG,KAC9DjC,EAASI,YAAc,qBAAuB0B,EAAe,GAC7DpC,EAAagB,UAAUgC,IAAI,SAE7BzC,EAAc0C,YAAYpD,OAE3BsD,OAAM,SAAAC,GACLC,QAAQtB,MAAMqB,EAAd,gCACA3C,EAAkBG,MAAQ,SAE7B,Q","file":"main.4d0ae683ef9941ee0cf6.js","sourcesContent":["export let debounce = require('lodash.debounce');\r\nimport { alert } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport fetchCountries from './fetchCountries';\r\nconst fragment = document.createDocumentFragment();\r\nconst containerDom = document.querySelector('.container');\r\nconst capitalDom = document.querySelector('.capital');\r\nconst populationDom = document.querySelector('.population');\r\nconst languagesDom = document.querySelector('.languages');\r\nconst imgDom = document.querySelector('img');\r\nconst titleDom = document.querySelector('.title');\r\nconst ulForRenderLi = document.querySelector('.list_render');\r\nconst stopDefaultBehaviorForm = document.querySelector('form');\r\nconst getValueFromInput = document.querySelector('input');\r\ncapitalDom.textContent = 'Capital : ';\r\npopulationDom.textContent = 'Population :';\r\nlanguagesDom.textContent = 'Languages : ';\r\ndocument.addEventListener(\r\n  'DOMContentLoaded',\r\n  () => (getValueFromInput.value = ''),\r\n);\r\nstopDefaultBehaviorForm.addEventListener('submit', even => {\r\n  even.preventDefault();\r\n});\r\nconst handleInput = document.querySelector('input');\r\nhandleInput.addEventListener(\r\n  'input',\r\n  debounce(() => {\r\n    ulForRenderLi.innerHTML = '';\r\n    capitalDom.textContent = 'Capital : ';\r\n    populationDom.textContent = 'Population :';\r\n    languagesDom.textContent = 'Languages : ';\r\n    containerDom.classList.remove('find');\r\n    imgDom.setAttribute(\r\n      'src',\r\n      'https://www.nwflags.co.uk/ekmps/shops/0ec9a8/resources/design/country_flags_banner_mobile3.jpg',\r\n    );\r\n    const keyWord = getValueFromInput.value;\r\n    if (keyWord === '' || keyWord === Number) {\r\n      return;\r\n    }\r\n    const keyRequest = `https://restcountries.eu/rest/v2/name/${keyWord\r\n      .toLowerCase()\r\n      .trim()}`;\r\n    fetchCountries(keyRequest)\r\n      .then(data => {\r\n        if (data.length >= 10) {\r\n          alert({\r\n            text: 'Clarify request',\r\n            type: 'info',\r\n          });\r\n          return;\r\n        }\r\n        const dataFromServer = data.reduce(\r\n          (acc, { name, flag, capital, population, languages, demonym }) => {\r\n            acc.push(name, flag, capital, population, languages, demonym);\r\n            const RenderLiDom = document.createElement('li');\r\n            RenderLiDom.classList.add('list_render_li');\r\n            RenderLiDom.textContent = name;\r\n            fragment.appendChild(RenderLiDom);\r\n            return acc;\r\n          },\r\n          [],\r\n        );\r\n        if (dataFromServer.length === 6) {\r\n          imgDom.removeAttribute('src');\r\n          imgDom.setAttribute('src', dataFromServer[1]);\r\n          capitalDom.textContent = 'Capital : ' + dataFromServer[2];\r\n          populationDom.textContent = 'Population : ' + dataFromServer[3];\r\n          languagesDom.textContent = 'Languages : ' + dataFromServer[4].name;\r\n          titleDom.textContent = 'Search country is ' + dataFromServer[5];\r\n          containerDom.classList.add('find');\r\n        }\r\n        ulForRenderLi.appendChild(fragment);\r\n      })\r\n      .catch(err => {\r\n        console.error(err, `something wrong  with server`);\r\n        getValueFromInput.value = '';\r\n      });\r\n  }, 500),\r\n);\r\n","import { error } from '@pnotify/core';\r\nexport default function fetchCountries(searchQuery) {\r\n  return fetch(searchQuery)\r\n    .then(el => {\r\n      return el.json();\r\n    })\r\n    .then(data => {\r\n      if (data.status === 404) {\r\n        error({ text: 'Write real name of countries!' });\r\n      }\r\n      return data;\r\n    });\r\n}\r\n"],"sourceRoot":""}